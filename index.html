<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>T√†i x·ªâu t·∫°i nh√†, ch∆°i t·ªõi gi√† kh√¥ng th·∫Øng!</title>
  <style>
    body {
      background-color: #111;
      color: white;
      font-family: 'Helvetica', sans-serif;
      text-align: center;
      padding-top: 15px;
    }

    .hidden {
      display: none;
    }

    .dice {
      font-size: 50px;
      margin: 10px;
    }

    .result {
      font-size: 20px;
      margin-top: 10px;
    }

    .btn {
      background-color: blue;
      color: white;
      padding: 12px 25px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      margin: 10px;
      cursor: pointer;
    }

    .btn:hover {
      background-color: darkblue;
    }

    input {
      padding: 10px;
      font-size: 18px;
      border-radius: 5px;
      border: none;
    }
  </style>
</head>
<body>

  <h1>T√†i x·ªâu t·∫°i nh√†, ch∆°i t·ªõi gi√† kh√¥ng th·∫Øng!</h1>

  <!-- Giao di·ªán quay t√†i x·ªâu (seed c·ªë ƒë·ªãnh) -->
  <div id="game-mode">
    <div class="dice" id="dice1">üé≤üé≤üé≤</div>
    <div class="result" id="result1">Nh·∫•n ƒë·ªÉ quay!</div>
    <button class="btn" onclick="rollRandom()">Quay t√†i x·ªâu!</button>
    <button class="btn" onclick="switchMode()">Chuy·ªÉn sang ch·∫ø ƒë·ªô nh·∫≠p seed</button>
  </div>

  <!-- Giao di·ªán nh·∫≠p seed -->
  <div id="seed-mode" class="hidden">
    <p>Nh·∫≠p s·ªë seed (b·∫•t k·ª≥):</p>
    <input type="number" id="seedInput" placeholder="VD: 69969669" />
    <div class="dice" id="dice2">üé≤üé≤üé≤</div>
    <div class="result" id="result2">Ch∆∞a quay!</div>
    <button class="btn" onclick="rollWithSeed()">Quay v·ªõi seed</button>
    <button class="btn" onclick="switchMode()">Quay v·ªÅ ch·∫ø ƒë·ªô ch∆°i</button>
  </div>

  <script>
    const diceFaces = ['\u2680', '\u2681', '\u2682', '\u2683', '\u2684', '\u2685'];

    // Chuy·ªÉn gi·ªØa 2 ch·∫ø ƒë·ªô
    function switchMode() {
      document.getElementById('game-mode').classList.toggle('hidden');
      document.getElementById('seed-mode').classList.toggle('hidden');
    }

    // H√†m random c√≥ seed
    function seededRandom(s) {
      let x = Math.sin(s) * 10000;
      return x - Math.floor(x);
    }

    // Ch·∫ø ƒë·ªô random c√≥ seed c·ªë ƒë·ªãnh
    let baseSeed = 58588585;
    let currentSeed = baseSeed;

    async function rollRandom() {
      const dice = document.getElementById('dice1');
      const result = document.getElementById('result1');

      let d1, d2, d3;

      for (let i = 0; i < 10; i++) {
        d1 = Math.floor(seededRandom(currentSeed++) * 6);
        d2 = Math.floor(seededRandom(currentSeed++) * 6);
        d3 = Math.floor(seededRandom(currentSeed++) * 6);
        dice.textContent = diceFaces[d1] + diceFaces[d2] + diceFaces[d3];
        await new Promise(r => setTimeout(r, 60));
      }

      let sum = d1 + d2 + d3 + 3;
      let resText = sum > 10 ? 'T√†i' : 'X·ªâu';
      let color = sum > 10 ? 'red' : 'green';
      result.textContent = resText;
      result.style.color = color;
    }

    // Ch·∫ø ƒë·ªô nh·∫≠p seed th·ªß c√¥ng
    function rollWithSeed() {
      const seedVal = parseInt(document.getElementById('seedInput').value);
      const dice = document.getElementById('dice2');
      const result = document.getElementById('result2');

      if (isNaN(seedVal)) {
        result.textContent = "B·∫°n ph·∫£i nh·∫≠p s·ªë seed!";
        result.style.color = "orange";
        return;
      }

      let s = seedVal;
      let d1 = Math.floor(seededRandom(s++) * 6);
      let d2 = Math.floor(seededRandom(s++) * 6);
      let d3 = Math.floor(seededRandom(s++) * 6);

      dice.textContent = diceFaces[d1] + diceFaces[d2] + diceFaces[d3];

      let sum = d1 + d2 + d3 + 3;
      let resText = sum > 10 ? 'T√†i' : 'X·ªâu';
      let color = sum > 10 ? 'red' : 'green';
      result.textContent = resText;
      result.style.color = color;
    }
  </script>

</body>
</html>